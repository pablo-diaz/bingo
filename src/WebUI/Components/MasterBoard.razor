@using WebUI.Models.GameAdmon

<div style=@(CanItBeShown ? "" : "display: none;")>
    <button class="btn btn-warning" @onclick=@(() => OnPlayRandomBallClick?.Invoke())>Jugar aleatoriamente</button>
    <br /><br /><br />
    <table>
        <tbody>
        @foreach (var state in State)
        {
            <tr>
                <td>@state.Key</td>
                @foreach (var ball in state.Value)
                {
                    <td><button disabled="@ball.WasItPlayed"
                                class="btn @(ball.WasItPlayed ? "btn-success" : "btn-outline-primary")" 
                                @onclick=@(() => OnBallClick?.Invoke(ball))>@ball.Number</button></td>
                }
            </tr>
        }
        </tbody>
    </table>
</div>

@code {
    [Parameter]
    public bool CanItBeShown { get; set; }

    [Parameter]
    public Dictionary<string, List<BallModel>> State { get; set; }

    [Parameter]
    public Action<BallModel> OnBallClick { get; set; }

    [Parameter]
    public Action OnPlayRandomBallClick { get; set; }
}
